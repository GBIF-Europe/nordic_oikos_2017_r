---
title: "Intro and some R setup examples (Nordic Oikos 2018)"
author: "Dag Endresen, https://orcid.org/0000-0002-2352-5497"
date: "February 18, 2018"
output: github_document
---


# Nordic Oikos 2018 - R workshop

Scientific reuse of openly published biodiversity information: Programmatic access to and analysis of primary biodiversity information using R. Nordic Oikos 2018, pre-conference R workshop, 18 and 19 February 2018. Further information [here](http://www.gbif.no/events/2018/Nordic-Oikos-2018-R-workshop.html).

Notice that most of the R-commands below are commented out (with a hash #). To execute selected lines on your computer, you need to uncomment (remove the hash #) first.

***

```{r messages=FALSE, eval=FALSE}
# Setting the working directory, here: to the same directory as the RMD-script
# Notice that eval=FALSE will exclude execution of this chunk in knitr, but enable manual execution in RStudio
#require(rstudioapi)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd() ## will display the working directory
```


### Create a folder for demo data
```{r results='hide', warning=FALSE}
## Note however, that RMarkdown with knitr works best with all files in the same directory
#dir.create(file.path("./demo_data")) ## create a folder for demo files (inside working directory)
#dir.create(file.path("../demo_data")) ## create a folder for demo files (next to working directory)
#dir.create(file.path("..", "demo_data")) # will work better accross OS? on Windows?
```

### Some useful R-packages to install, that we will use during the workshop
```{r}
## It is possible to install R-packages from the script
#install.packages("rmarkdown") # R Markdown
#install.packages("rgbif") # species occurrence data from GBIF
#install.packages("mapr", dependencies = TRUE) # rOpenSci mapping tools
#install.packages("spocc", dependencies = TRUE) # species occurrence data
#install.packages("maps") # mapping tools
#install.packages("mapproj") # map projection tools
#install.packages("rgdal") # r gdal tools
#install.packages(mapdata) # map data
#install.packages("raster") # raster data tools
#install.packages("plotly")
#install.packages("RColorBrewer")
```

### Load R-packages
```{r}
# Use functions library() or require() to load the R-packages you need

#require(rgbif) # r-package for accessing GBIF
#library('mapr') # rOpenSci r-package for mapping (occurrence data)
#library('spocc') # rOpenSci r-package with more biodiversity data sources than GBIF
#require(maps)
#require(mapproj)
#require(mapdata)
#require(maptools) # mapping tools for spatial objects
#require(rgdal) # provides the Geospatial Data Abstraction Library
#require(raster) # spatial raster data management
#library(gapminder)
#library(tidyverse) ## includes dplyr etc for handling data, select(), filter()
#library('plyr') ##
#library('RColorBrewer')
```

### Clear workspace (be careful)
```{r}
# Large arrays and dataframes can consume huge parts of your working memory,
# and you probably want to remove some of them from memory when they are not needed anymore.

#rm(list = ls()) # Be careful, this line cleans the entire R workspace
#rm(sp) # Probably better to remove large arrays and dataframes individually
```


***

## This script uses [R Markdown](http://rmarkdown.rstudio.com/)

[R Markdown](http://rmarkdown.rstudio.com/) is a convinient format (R Notebooks) for writing R-scripts, introduced in 2014. R Markdown integrates very well in RStudio (and can also be used form the command line). Session 2 will provide an introduction to R-scripting including R Markdown.

***

NOTES

## BOUNDING BOX
bb <- c(10.2,63.3,10.6,63.5) # Trondheim
bb <- c(5.25, 60.3, 5.4, 60.4) # Bergen
bb <- c(18.7, 69.6, 19.2, 69.8) # Tromsoe
bb <- c(10.6, 59.9, 10.9, 60.0) # Oslo

message(sprintf("Current working dir: %s\n", getwd()))
paste("Today is", date())

